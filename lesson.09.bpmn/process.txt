Процесс игры в танчики

Суть.
Есть танк.
Танк может стрелять пока есть снаряды, двигаться пока есть топливо и поворачивать на месте.
Есть набор целей. 
Цель может поворачивать и стрелять.
Есть снаряд. 
Снаряд может двигаться.
Если снаряд попадает в цель, цель уничтожена. Когда все цели уничтожены, танк выиграл.
Если снаряд попал в танк, или кончились снаряды или топливо, танк проиграл.
Если снаряд покинул площадку, забыть про него

Имеется 3 сущности
1. "Танк"
1.1 Имеет счётчик снарядов
1.2 Имеет счётчик топлива
1.3 Имеет вектор положения
1.3.1 Вектор положения может быть изменён на вектор скорости
1.4 Имеет вектор скорости
1.4.1 Направления вектора скорости может быть изменёно на фиксированный угол по или против часовой стрелки
2. "Цель"
2.1 Имеет вектор положения
2.2 Имеет вектор направления
2.2.1 Направления вектора скорости может быть изменёно на фиксированный угол по или против часовой стрелки
3. "Снаряд"
3.1 Имеет вектор положения
3.2.1 Вектор положения может быть изменён на вектор скорости
3.3 Имеет вектор скорости

В процессе имеется 3 взаимодействующих процесса:
1. Controller : формирует управляющие команды для Modeller на основании Presenter
1.1 Если вектор скорости сущности "Танк" указывает на одну из сущностей "Цель", дать команду выстрелить
1.2 Если для одной из сущностей "Снаряд" вектор скорости указывает на сущность "Танк", дать команду отдалиться от сущности "Снаряд"
1.3 Иначе повернуть в направлении ближайшей цели
2. Modeller : вычисляет состояние модели на следующием шаге с учётом уравляющих команд Controller и предоставляет состояние системы Presenter
2.1 Если получена команда сущности "Танк" выстрелить
2.1.1 У сущности "Танк" уменьшить счётчик снарядов на 1. Если счётчик снарядов == 0, выйти "Failure"
2.1.2 Создать исходящую сущность "Снаряд"
2.2 Если получена команда сущности "Танк" двигаться
2.2.1 У сущности "Танк" уменьшить счётчик топлива на 1. Если счётчик топлива == 0, выйти "Failure"
2.2.2 Изменить позицию сущности "Танк" на вектор скорости. Если позиция за пределами моделируемой области, расположить сущность на границе.
2.3 Если получена команда сущности "Танк" повернуть
2.3.1 Изменить направление вектора скорости сущности "Танк" в указанном направлении
2.4 В любом случае
2.4.1 Изменить позицию сущности "Снаряд" на вектор скорости
2.4.3 Для всех сущностей "Цель"
2.4.3.1 Если вектор направления сущности "Цель" указывает на сущность "Танк", создать исходящую сущность "Снаряд"
2.4.3.2 Иначе повернуть вектор направления в сторону сущности "Танк"
2.4.4 Проверить положение сущности "Снаряд" в моделируемой области. Если сущность за пределами, убрать её из модели
2.4.5 Проверить коллизию сущностей "Снаряд" и "Танк"
2.4.5.1 При совпадении, выход "Failure"
2.4.6 Проверить коллизию сущностей "Снаряд" и "Цель"
2.4.6.1 При совпадении, убрать сущность "Цель" из модели. Если сущность в модели последняя, выйти "Success"
3. Presenter : предоставляет информацию необходимую для принятия решения в Controller
3.1 Для сущности "Танк" - векторы положения и скорости
3.2 Для каждой сущности "Снаряд" - векторы положения и скорости
3.2 Для каждой сущности "Цель" - вектор положения

